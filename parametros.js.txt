export function iniciarParametros(callback) {
  const container = document.getElementById('parametros');
  container.innerHTML = `
    <h2>Parâmetros Globais</h2>
    <label>Aceleração (m/s²): <input type="number" id="acel" value="2.8" min="0"></label>
    <label>Desaceleração (m/s²): <input type="number" id="desacel" value="2.8" min="0"></label>
    <label>Velocidade Regulamentar (km/h): <input type="number" id="vr" value="60" min="0"></label>
    <button id="confirmarParametros">Confirmar</button>
  `;

  document.getElementById('confirmarParametros').onclick = () => {
    const acel = parseFloat(document.getElementById('acel').value);
    const desacel = parseFloat(document.getElementById('desacel').value);
    const vr_kmh = parseFloat(document.getElementById('vr').value);

    if (isNaN(acel) || acel < 0 || isNaN(desacel) || desacel < 0 || isNaN(vr_kmh) || vr_kmh < 0) {
      alert('Todos os valores devem ser maiores ou iguais a zero.');
      return;
    }

    window.parametrosGlobais = {
      a: acel,
      d: desacel,
      vr: vr_kmh * 10 / 36 // km/h → m/s
    };

    container.style.display = 'none';
    document.getElementById('pontoInicial').style.display = 'block';
    callback();
  };
}
